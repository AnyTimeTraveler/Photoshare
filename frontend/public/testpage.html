
<html>
<head>
    <meta charset="UTF-8">
    <title>DnD test</title>
</head>
<body style="background-color: grey">

    <div id="dnd"
         style="position: absolute; top: 100px; left: 100px; width: 1000px; height: 400px; background-color: red;"></div>
    <script>
        var dropArea = document.getElementById("dnd");

        function traverseFileTree(item, path) {
            path = path || "";
            if (item.isFile) {
                // Get file
                item.file(function(file) {
                    console.log("File:", path + file.name);
                });
            } else if (item.isDirectory) {
                console.log("Folder:", path + item.name);
                // Get folder contents
                var dirReader = item.createReader();
                dirReader.readEntries(function(entries) {
                    for (var i=0; i<entries.length; i++) {
                        traverseFileTree(entries[i], path + item.name + "/");
                    }
                });
            }
        }

        dropArea.addEventListener("drop", function(event) {
            event.preventDefault();

            var items = event.dataTransfer.items;
            for (var i=0; i<items.length; i++) {
                // webkitGetAsEntry is where the magic happens
                var item = items[i].webkitGetAsEntry();
                if (item) {
                    traverseFileTree(item);
                }
            }
        }, false);

        dropArea.addEventListener("dragover", function(event) {
            event.preventDefault();
        }, false);

        // var xhr = new XMLHttpRequest();
        // xhr.open('POST', 'handler.php', true);
        // xhr.onload = function () {
        //     if (xhr.status === 200) {
        //         // File(s) uploaded.
        //         uploadButton.innerHTML = 'Upload';
        //     } else {
        //         alert('An error occurred!');
        //     }
        // };
        // var formData = new FormData();
        // formData.append('data', file, file.name);
        // xhr.send(formData);
    </script>
</body>
</html>